{"version":3,"sources":["webpack:///./node_modules/vant/lib/form/style/index.js","webpack:///./node_modules/vant/es/form/index.js","webpack:///./node_modules/vant/es/utils/vnodes.js","webpack:///./src/pages/Regist/m-regist.vue?66de","webpack:///./src/api/utils.js","webpack:///./src/pages/Regist/m-regist.vue?eeeb","webpack:///src/pages/Regist/m-regist.vue","webpack:///./src/pages/Regist/m-regist.vue?2b0f","webpack:///./src/pages/Regist/m-regist.vue"],"names":["_createNamespace","createComponent","bem","props","colon","Boolean","disabled","readonly","labelWidth","Number","String","labelAlign","inputAlign","scrollToError","validateFirst","errorMessageAlign","submitOnEnter","type","default","validateTrigger","showError","showErrorMessage","provide","vanForm","this","data","fields","methods","getFieldsByNames","names","filter","field","indexOf","name","validateSeq","_this","Promise","resolve","reject","errors","reduce","promise","then","length","validate","error","push","validateFields","_this2","all","map","item","Array","isArray","validateField","matched","resetValidation","forEach","scrollToField","options","some","$el","scrollIntoView","addField","removeField","getValues","form","formValue","onSubmit","event","preventDefault","submit","_this3","values","$emit","catch","render","h","arguments","slots","flattenVNodes","vnodes","result","traverse","vnode","componentInstance","$children","$vnode","children","sortChildren","parent","componentOptions","sort","a","b","phoneVCode","Request","method","url","submit_driverForm","_vm","_h","$createElement","_c","_self","attrs","staticClass","on","required","message","model","value","callback","$$v","password","expression","verifyPassword","userAccount","scopedSlots","_u","key","fn","ref","$event","toSendCode","apply","_v","_s","buttonNoticeMsg","proxy","msgCode","staticStyle","$store","getters","equipment","staticRenderFns","components","component"],"mappings":"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","file":"static/js/chunk-5bd52192.416b1549.js","sourcesContent":["require('../../style/base.css');\n","import { createNamespace } from '../utils';\nimport { sortChildren } from '../utils/vnodes';\n\nvar _createNamespace = createNamespace('form'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    colon: Boolean,\n    disabled: Boolean,\n    readonly: Boolean,\n    labelWidth: [Number, String],\n    labelAlign: String,\n    inputAlign: String,\n    scrollToError: Boolean,\n    validateFirst: Boolean,\n    errorMessageAlign: String,\n    submitOnEnter: {\n      type: Boolean,\n      default: true\n    },\n    validateTrigger: {\n      type: String,\n      default: 'onBlur'\n    },\n    showError: {\n      type: Boolean,\n      default: true\n    },\n    showErrorMessage: {\n      type: Boolean,\n      default: true\n    }\n  },\n  provide: function provide() {\n    return {\n      vanForm: this\n    };\n  },\n  data: function data() {\n    return {\n      fields: []\n    };\n  },\n  methods: {\n    getFieldsByNames: function getFieldsByNames(names) {\n      if (names) {\n        return this.fields.filter(function (field) {\n          return names.indexOf(field.name) !== -1;\n        });\n      }\n\n      return this.fields;\n    },\n    validateSeq: function validateSeq(names) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var errors = [];\n\n        var fields = _this.getFieldsByNames(names);\n\n        fields.reduce(function (promise, field) {\n          return promise.then(function () {\n            if (!errors.length) {\n              return field.validate().then(function (error) {\n                if (error) {\n                  errors.push(error);\n                }\n              });\n            }\n          });\n        }, Promise.resolve()).then(function () {\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    validateFields: function validateFields(names) {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        var fields = _this2.getFieldsByNames(names);\n\n        Promise.all(fields.map(function (item) {\n          return item.validate();\n        })).then(function (errors) {\n          errors = errors.filter(function (item) {\n            return item;\n          });\n\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    // @exposed-api\n    validate: function validate(name) {\n      if (name && !Array.isArray(name)) {\n        return this.validateField(name);\n      }\n\n      return this.validateFirst ? this.validateSeq(name) : this.validateFields(name);\n    },\n    validateField: function validateField(name) {\n      var matched = this.fields.filter(function (item) {\n        return item.name === name;\n      });\n\n      if (matched.length) {\n        return new Promise(function (resolve, reject) {\n          matched[0].validate().then(function (error) {\n            if (error) {\n              reject(error);\n            } else {\n              resolve();\n            }\n          });\n        });\n      }\n\n      return Promise.reject();\n    },\n    // @exposed-api\n    resetValidation: function resetValidation(name) {\n      if (name && !Array.isArray(name)) {\n        name = [name];\n      }\n\n      var fields = this.getFieldsByNames(name);\n      fields.forEach(function (item) {\n        item.resetValidation();\n      });\n    },\n    // @exposed-api\n    scrollToField: function scrollToField(name, options) {\n      this.fields.some(function (item) {\n        if (item.name === name) {\n          item.$el.scrollIntoView(options);\n          return true;\n        }\n\n        return false;\n      });\n    },\n    addField: function addField(field) {\n      this.fields.push(field);\n      sortChildren(this.fields, this);\n    },\n    removeField: function removeField(field) {\n      this.fields = this.fields.filter(function (item) {\n        return item !== field;\n      });\n    },\n    getValues: function getValues() {\n      return this.fields.reduce(function (form, field) {\n        form[field.name] = field.formValue;\n        return form;\n      }, {});\n    },\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      this.submit();\n    },\n    // @exposed-api\n    submit: function submit() {\n      var _this3 = this;\n\n      var values = this.getValues();\n      this.validate().then(function () {\n        _this3.$emit('submit', values);\n      }).catch(function (errors) {\n        _this3.$emit('failed', {\n          values: values,\n          errors: errors\n        });\n\n        if (_this3.scrollToError) {\n          _this3.scrollToField(errors[0].name);\n        }\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"form\", {\n      \"class\": bem(),\n      \"on\": {\n        \"submit\": this.onSubmit\n      }\n    }, [this.slots()]);\n  }\n});","function flattenVNodes(vnodes) {\n  var result = [];\n\n  function traverse(vnodes) {\n    vnodes.forEach(function (vnode) {\n      result.push(vnode);\n\n      if (vnode.componentInstance) {\n        traverse(vnode.componentInstance.$children.map(function (item) {\n          return item.$vnode;\n        }));\n      }\n\n      if (vnode.children) {\n        traverse(vnode.children);\n      }\n    });\n  }\n\n  traverse(vnodes);\n  return result;\n} // sort children instances by vnodes order\n\n\nexport function sortChildren(children, parent) {\n  var componentOptions = parent.$vnode.componentOptions;\n\n  if (!componentOptions || !componentOptions.children) {\n    return;\n  }\n\n  var vnodes = flattenVNodes(componentOptions.children);\n  children.sort(function (a, b) {\n    return vnodes.indexOf(a.$vnode) - vnodes.indexOf(b.$vnode);\n  });\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./m-regist.vue?vue&type=style&index=0&id=f6b3ee24&scoped=true&lang=css&\"","import Request from '@/utils/Request'\r\n\r\nexport function phoneVCode(data){\r\n    return Request({\r\n        method: 'post',\r\n        url: '/sms/sendPhoneVCode',\r\n        data\r\n    })\r\n}\r\n\r\nexport function submit_driverForm(data){\r\n    return Request({\r\n        method: 'post',\r\n        url: '/driver/append',\r\n        data\r\n    })\r\n}\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"regist\"}},[_c('div',{staticClass:\"regist-form\"},[_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"userpasword\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[{ required: true, message: '请填写密码' }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"verifyPassword\",\"label\":\"校验密码\",\"placeholder\":\"请再次输入密码\",\"rules\":[{ required: true, message: '请填写密码' }]},model:{value:(_vm.verifyPassword),callback:function ($$v) {_vm.verifyPassword=$$v},expression:\"verifyPassword\"}}),_c('van-field',{attrs:{\"name\":\"userAccount\",\"label\":\"手机号码\",\"placeholder\":\"手机号码\",\"rules\":[{ required: true, message: '请填写手机号码' }]},model:{value:(_vm.userAccount),callback:function ($$v) {_vm.userAccount=$$v},expression:\"userAccount\"}}),_c('van-field',{attrs:{\"name\":\"msgCode\",\"center\":\"\",\"clearable\":\"\",\"label\":\"短信验证码\",\"placeholder\":\"请输入短信验证码\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{ref:\"sendCodeBtn\",attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toSendCode.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.buttonNoticeMsg))])]},proxy:true}]),model:{value:(_vm.msgCode),callback:function ($$v) {_vm.msgCode=$$v},expression:\"msgCode\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"注册\")])],1)],1),_c('router-link',{staticClass:\"to-loginView\",attrs:{\"to\":_vm.$store.getters.equipment + '-login'}},[_vm._v(\"去 登录\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"regist\">\r\n    <div class=\"regist-form\">\r\n      <van-form @submit=\"onSubmit\">\r\n        <van-field\r\n          v-model=\"password\"\r\n          type=\"password\"\r\n          name=\"userpasword\"\r\n          label=\"密码\"\r\n          placeholder=\"密码\"\r\n          :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n        />\r\n        <van-field\r\n          v-model=\"verifyPassword\"\r\n          type=\"password\"\r\n          name=\"verifyPassword\"\r\n          label=\"校验密码\"\r\n          placeholder=\"请再次输入密码\"\r\n          :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n        />\r\n        <van-field\r\n          v-model=\"userAccount\"\r\n          name=\"userAccount\"\r\n          label=\"手机号码\"\r\n          placeholder=\"手机号码\"\r\n          :rules=\"[{ required: true, message: '请填写手机号码' }]\"\r\n        />\r\n        <van-field\r\n          v-model=\"msgCode\"\r\n          name=\"msgCode\"\r\n          center\r\n          clearable\r\n          label=\"短信验证码\"\r\n          placeholder=\"请输入短信验证码\"\r\n        >\r\n          <template #button>\r\n            <van-button\r\n              size=\"mini\"\r\n              type=\"primary\"\r\n              @click.prevent=\"toSendCode\"\r\n              ref=\"sendCodeBtn\"\r\n              >{{ buttonNoticeMsg }}</van-button\r\n            >\r\n          </template>\r\n        </van-field>\r\n        <div style=\"margin: 16px\">\r\n          <van-button round block type=\"info\" native-type=\"submit\"\r\n            >注册</van-button\r\n          >\r\n        </div>\r\n      </van-form>\r\n      <router-link\r\n        :to=\"$store.getters.equipment + '-login'\"\r\n        class=\"to-loginView\"\r\n        >去 登录</router-link\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Form, Field, Button, Toast } from \"vant\";\r\nimport \"vant/lib/button/style\";\r\nimport \"vant/lib/form/style\";\r\nimport \"vant/lib/field/style\";\r\nimport \"vant/lib/toast/style\";\r\n\r\nimport { phoneVCode } from \"@/api/utils\";\r\n\r\nexport default {\r\n  name: \"M-Regist\",\r\n  components: {\r\n    [Form.name]: Form,\r\n    [Field.name]: Field,\r\n    [Button.name]: Button,\r\n    [Toast.name]: Toast,\r\n  },\r\n  data() {\r\n    return {\r\n      userAccount: \"\",\r\n      password: \"\",\r\n      verifyPassword: \"\",\r\n      msgCode: \"\",\r\n      buttonNoticeMsg: \"发送验证码\",\r\n    };\r\n  },\r\n  methods: {\r\n    async onSubmit(values) { // 提交注册\r\n    console.log(values)\r\n      const config = {\r\n        user_account: values.userAccount,\r\n        user_password: values.verifyPassword,\r\n        // code: values.msgCode\r\n      };\r\n      const res = await this.$store.dispatch(\"user/regist\", config);\r\n      if (res.code === '1111') {\r\n        // 注册成功\r\n        Toast(\"注册成功\");\r\n        this.$router.replace(`${this.$store.getters.equipment}-regist`);\r\n      } else if (res.code === '0010') {\r\n        // 重复注册\r\n        Toast.fail(\"该账号已注册，请勿重复注册\");\r\n      }else if(res.code === 10100){\r\n        Toast.fail('验证码无效')\r\n      } else {\r\n        Toast(res.data)\r\n      }\r\n    },\r\n    async toSendCode() { // 发送验证码\r\n      const res = await phoneVCode({\r\n        phone: this.userAccount\r\n      });\r\n      if (res.code == 1) { // code == 1 验证码发送成功\r\n        let countDown = 60;\r\n        let timer = setInterval(() => {\r\n          // 设置倒计时\r\n          if (countDown >= 0) {\r\n            this.$refs.sendCodeBtn.setAttribute(\"disabled\", true); // 倒计时未结束不可再次点击\r\n            this.buttonNoticeMsg = countDown--;\r\n          } else {\r\n            clearInterval(timer); // 清除定时器\r\n            this.buttonNoticeMsg = \"重新发送验证码\";\r\n            this.$refs.sendCodeBtn.removeAttribute(\"disabled\"); // 倒计时结束可重新点击发送验证码\r\n          }\r\n        }, 1000);\r\n      } else if(res.code == 40120){\r\n        Toast.fail('手机号码格式错误')\r\n      } \r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"../../styles/m-regist.css\");\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./m-regist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./m-regist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./m-regist.vue?vue&type=template&id=f6b3ee24&scoped=true&\"\nimport script from \"./m-regist.vue?vue&type=script&lang=js&\"\nexport * from \"./m-regist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./m-regist.vue?vue&type=style&index=0&id=f6b3ee24&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6b3ee24\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}