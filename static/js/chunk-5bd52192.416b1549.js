(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5bd52192"],{"2b3d":function(e,t,n){},"56fa":function(e,t,n){n("a29f")},"772a":function(e,t,n){"use strict";var r=n("d282"),i=n("db85"),a=Object(r["a"])("form"),o=a[0],s=a[1];t["a"]=o({props:{colon:Boolean,disabled:Boolean,readonly:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{getFieldsByNames:function(e){return e?this.fields.filter((function(t){return-1!==e.indexOf(t.name)})):this.fields},validateSeq:function(e){var t=this;return new Promise((function(n,r){var i=[],a=t.getFieldsByNames(e);a.reduce((function(e,t){return e.then((function(){if(!i.length)return t.validate().then((function(e){e&&i.push(e)}))}))}),Promise.resolve()).then((function(){i.length?r(i):n()}))}))},validateFields:function(e){var t=this;return new Promise((function(n,r){var i=t.getFieldsByNames(e);Promise.all(i.map((function(e){return e.validate()}))).then((function(e){e=e.filter((function(e){return e})),e.length?r(e):n()}))}))},validate:function(e){return e&&!Array.isArray(e)?this.validateField(e):this.validateFirst?this.validateSeq(e):this.validateFields(e)},validateField:function(e){var t=this.fields.filter((function(t){return t.name===e}));return t.length?new Promise((function(e,n){t[0].validate().then((function(t){t?n(t):e()}))})):Promise.reject()},resetValidation:function(e){e&&!Array.isArray(e)&&(e=[e]);var t=this.getFieldsByNames(e);t.forEach((function(e){e.resetValidation()}))},scrollToField:function(e,t){this.fields.some((function(n){return n.name===e&&(n.$el.scrollIntoView(t),!0)}))},addField:function(e){this.fields.push(e),Object(i["a"])(this.fields,this)},removeField:function(e){this.fields=this.fields.filter((function(t){return t!==e}))},getValues:function(){return this.fields.reduce((function(e,t){return e[t.name]=t.formValue,e}),{})},onSubmit:function(e){e.preventDefault(),this.submit()},submit:function(){var e=this,t=this.getValues();this.validate().then((function(){e.$emit("submit",t)})).catch((function(n){e.$emit("failed",{values:t,errors:n}),e.scrollToError&&e.scrollToField(n[0].name)}))}},render:function(){var e=arguments[0];return e("form",{class:s(),on:{submit:this.onSubmit}},[this.slots()])}})},db85:function(e,t,n){"use strict";function r(e){var t=[];function n(e){e.forEach((function(e){t.push(e),e.componentInstance&&n(e.componentInstance.$children.map((function(e){return e.$vnode}))),e.children&&n(e.children)}))}return n(e),t}function i(e,t){var n=t.$vnode.componentOptions;if(n&&n.children){var i=r(n.children);e.sort((function(e,t){return i.indexOf(e.$vnode)-i.indexOf(t.$vnode)}))}}n.d(t,"a",(function(){return i}))},dc31:function(e,t,n){"use strict";n("2b3d")},f62d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n("b6d1");function i(e){return Object(r["a"])({method:"post",url:"/sms/sendPhoneVCode",data:e})}function a(e){return Object(r["a"])({method:"post",url:"/driver/append",data:e})}},f883:function(e,t,n){"use strict";n.r(t);var r,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"regist"}},[n("div",{staticClass:"regist-form"},[n("van-form",{on:{submit:e.onSubmit}},[n("van-field",{attrs:{type:"password",name:"userpasword",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("van-field",{attrs:{type:"password",name:"verifyPassword",label:"校验密码",placeholder:"请再次输入密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.verifyPassword,callback:function(t){e.verifyPassword=t},expression:"verifyPassword"}}),n("van-field",{attrs:{name:"userAccount",label:"手机号码",placeholder:"手机号码",rules:[{required:!0,message:"请填写手机号码"}]},model:{value:e.userAccount,callback:function(t){e.userAccount=t},expression:"userAccount"}}),n("van-field",{attrs:{name:"msgCode",center:"",clearable:"",label:"短信验证码",placeholder:"请输入短信验证码"},scopedSlots:e._u([{key:"button",fn:function(){return[n("van-button",{ref:"sendCodeBtn",attrs:{size:"mini",type:"primary"},on:{click:function(t){return t.preventDefault(),e.toSendCode.apply(null,arguments)}}},[e._v(e._s(e.buttonNoticeMsg))])]},proxy:!0}]),model:{value:e.msgCode,callback:function(t){e.msgCode=t},expression:"msgCode"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("注册")])],1)],1),n("router-link",{staticClass:"to-loginView",attrs:{to:e.$store.getters.equipment+"-login"}},[e._v("去 登录")])],1)])},a=[],o=n("1da1"),s=n("ade3"),u=(n("96cf"),n("b0c0"),n("ac1f"),n("5319"),n("772a")),c=n("565f"),l=n("b650"),d=n("d399"),f=(n("0147"),n("56fa"),n("fdc4"),n("c2d8"),n("f62d")),m={name:"M-Regist",components:(r={},Object(s["a"])(r,u["a"].name,u["a"]),Object(s["a"])(r,c["a"].name,c["a"]),Object(s["a"])(r,l["a"].name,l["a"]),Object(s["a"])(r,d["a"].name,d["a"]),r),data:function(){return{userAccount:"",password:"",verifyPassword:"",msgCode:"",buttonNoticeMsg:"发送验证码"}},methods:{onSubmit:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(e),r={user_account:e.userAccount,user_password:e.verifyPassword},n.next=4,t.$store.dispatch("user/regist",r);case 4:i=n.sent,"1111"===i.code?(Object(d["a"])("注册成功"),t.$router.replace("".concat(t.$store.getters.equipment,"-regist"))):"0010"===i.code?d["a"].fail("该账号已注册，请勿重复注册"):10100===i.code?d["a"].fail("验证码无效"):Object(d["a"])(i.data);case 6:case"end":return n.stop()}}),n)})))()},toSendCode:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["a"])({phone:e.userAccount});case 2:n=t.sent,1==n.code?(r=60,i=setInterval((function(){r>=0?(e.$refs.sendCodeBtn.setAttribute("disabled",!0),e.buttonNoticeMsg=r--):(clearInterval(i),e.buttonNoticeMsg="重新发送验证码",e.$refs.sendCodeBtn.removeAttribute("disabled"))}),1e3)):40120==n.code&&d["a"].fail("手机号码格式错误");case 4:case"end":return t.stop()}}),t)})))()}}},v=m,h=(n("dc31"),n("2877")),p=Object(h["a"])(v,i,a,!1,null,"f6b3ee24",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-5bd52192.416b1549.js.map