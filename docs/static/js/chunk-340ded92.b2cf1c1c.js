(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-340ded92"],{"381c":function(e,t,n){"use strict";n("c4af")},"4a63":function(e,t,n){"use strict";n.r(t);var r,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login"}},[e._m(0),n("div",{staticClass:"login-form"},[n("van-form",{on:{submit:e.onSubmit}},[n("van-field",{attrs:{name:"user_account",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:e.user_account,callback:function(t){e.user_account=t},expression:"user_account"}}),n("van-field",{attrs:{type:"password",name:"user_password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.user_password,callback:function(t){e.user_password=t},expression:"user_password"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("登录")])],1)],1),n("router-link",{staticClass:"to-registView",attrs:{to:e.$store.getters.equipment+"-regist"}},[e._v("去 注册")])],1)])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-logo"},[r("img",{attrs:{src:n("cf05"),alt:""}})])}],o=n("1da1"),s=n("ade3"),c=(n("96cf"),n("b0c0"),n("ac1f"),n("5319"),n("99af"),n("772a")),u=n("565f"),l=n("b650"),f=n("d399"),d=(n("0147"),n("56fa"),n("fdc4"),n("c2d8"),{name:"M-Login",components:(r={},Object(s["a"])(r,c["a"].name,c["a"]),Object(s["a"])(r,u["a"].name,u["a"]),Object(s["a"])(r,l["a"].name,l["a"]),Object(s["a"])(r,f["a"].name,f["a"]),r),data:function(){return{user_account:"",user_password:""}},methods:{onSubmit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f["a"].loading({message:"登陆中",forbidClick:!0}),e.next=3,this.$store.dispatch("user/login",t);case 3:n=e.sent,"1111"===n?(f["a"].success("登陆成功"),setTimeout((function(){location.reload(),r.$router.replace("/".concat(r.$store.getters.equipment,"-main/").concat(r.$store.getters.equipment,"-subscribe"))}),1e3)):"0002"==n?f["a"].fail("账号格式有误"):"0003"==n?f["a"].fail("用户不存在，请先注册"):"1110"==n?f["a"].fail("账号密码不匹配"):"0404"==n?f["a"].fail("账号已停用"):Object(f["a"])("出错了，请稍后再试");case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}}),m=d,h=(n("381c"),n("2877")),v=Object(h["a"])(m,i,a,!1,null,"20befa1b",null);t["default"]=v.exports},"56fa":function(e,t,n){n("a29f")},"772a":function(e,t,n){"use strict";var r=n("d282"),i=n("db85"),a=Object(r["a"])("form"),o=a[0],s=a[1];t["a"]=o({props:{colon:Boolean,disabled:Boolean,readonly:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{getFieldsByNames:function(e){return e?this.fields.filter((function(t){return-1!==e.indexOf(t.name)})):this.fields},validateSeq:function(e){var t=this;return new Promise((function(n,r){var i=[],a=t.getFieldsByNames(e);a.reduce((function(e,t){return e.then((function(){if(!i.length)return t.validate().then((function(e){e&&i.push(e)}))}))}),Promise.resolve()).then((function(){i.length?r(i):n()}))}))},validateFields:function(e){var t=this;return new Promise((function(n,r){var i=t.getFieldsByNames(e);Promise.all(i.map((function(e){return e.validate()}))).then((function(e){e=e.filter((function(e){return e})),e.length?r(e):n()}))}))},validate:function(e){return e&&!Array.isArray(e)?this.validateField(e):this.validateFirst?this.validateSeq(e):this.validateFields(e)},validateField:function(e){var t=this.fields.filter((function(t){return t.name===e}));return t.length?new Promise((function(e,n){t[0].validate().then((function(t){t?n(t):e()}))})):Promise.reject()},resetValidation:function(e){e&&!Array.isArray(e)&&(e=[e]);var t=this.getFieldsByNames(e);t.forEach((function(e){e.resetValidation()}))},scrollToField:function(e,t){this.fields.some((function(n){return n.name===e&&(n.$el.scrollIntoView(t),!0)}))},addField:function(e){this.fields.push(e),Object(i["a"])(this.fields,this)},removeField:function(e){this.fields=this.fields.filter((function(t){return t!==e}))},getValues:function(){return this.fields.reduce((function(e,t){return e[t.name]=t.formValue,e}),{})},onSubmit:function(e){e.preventDefault(),this.submit()},submit:function(){var e=this,t=this.getValues();this.validate().then((function(){e.$emit("submit",t)})).catch((function(n){e.$emit("failed",{values:t,errors:n}),e.scrollToError&&e.scrollToField(n[0].name)}))}},render:function(){var e=arguments[0];return e("form",{class:s(),on:{submit:this.onSubmit}},[this.slots()])}})},8418:function(e,t,n){"use strict";var r=n("a04b"),i=n("9bf2"),a=n("5c6c");e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("d039"),o=n("e8b5"),s=n("861d"),c=n("7b0b"),u=n("07fa"),l=n("8418"),f=n("65f0"),d=n("1dde"),m=n("b622"),h=n("2d00"),v=m("isConcatSpreadable"),p=9007199254740991,b="Maximum allowed index exceeded",g=i.TypeError,w=h>=51||!a((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),y=d("concat"),_=function(e){if(!s(e))return!1;var t=e[v];return void 0!==t?!!t:o(e)},F=!w||!y;r({target:"Array",proto:!0,forced:F},{concat:function(e){var t,n,r,i,a,o=c(this),s=f(o,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],_(a)){if(i=u(a),d+i>p)throw g(b);for(n=0;n<i;n++,d++)n in a&&l(s,d,a[n])}else{if(d>=p)throw g(b);l(s,d++,a)}return s.length=d,s}})},c4af:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"static/img/logo.0dd0f0b1.png"},db85:function(e,t,n){"use strict";function r(e){var t=[];function n(e){e.forEach((function(e){t.push(e),e.componentInstance&&n(e.componentInstance.$children.map((function(e){return e.$vnode}))),e.children&&n(e.children)}))}return n(e),t}function i(e,t){var n=t.$vnode.componentOptions;if(n&&n.children){var i=r(n.children);e.sort((function(e,t){return i.indexOf(e.$vnode)-i.indexOf(t.$vnode)}))}}n.d(t,"a",(function(){return i}))}}]);
//# sourceMappingURL=chunk-340ded92.b2cf1c1c.js.map