{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/pages/Admin/Audit/PendingList/index.vue?e4a6","webpack:///src/pages/Admin/Audit/PendingList/index.vue","webpack:///./src/pages/Admin/Audit/PendingList/index.vue?b55f","webpack:///./src/pages/Admin/Audit/PendingList/index.vue","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/pages/Admin/Audit/PendingList/index.vue?c459","webpack:///./node_modules/nanoid/url-alphabet/index.js","webpack:///./node_modules/nanoid/index.browser.js"],"names":["global","DOMIterables","DOMTokenListPrototype","forEach","createNonEnumerableProperty","handlePrototype","CollectionPrototype","error","COLLECTION_NAME","prototype","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","columns","colData","scopedSlots","_u","key","fn","record","on","$event","audit_pass","id","audit_reject","_v","innerColumns","children","model","value","callback","$$v","visible","expression","slot","handleCancel","loading","handleOk","minRows","maxRows","staticRenderFns","name","data","beCheckedItemId","methods","showModal","filters","goods_type_filter","goods_type","component","fails","METHOD_NAME","argument","method","call","nanoid","size","bytes","crypto","getRandomValues","Uint8Array","byte","toString","toUpperCase"],"mappings":"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","file":"static/js/chunk-6f81a728.07ff821d.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"pending_list\"}},[_c('a-table',{staticClass:\"components-table-demo-nested\",attrs:{\"columns\":_vm.columns,\"data-source\":_vm.colData,\"pagination\":false},scopedSlots:_vm._u([{key:\"action\",fn:function(record){return _c('a-popconfirm',{attrs:{\"title\":\"Whether the audit is passed？\",\"ok-text\":\"Pass\",\"cancel-text\":\"Reject\"},on:{\"confirm\":function($event){return _vm.audit_pass(record.id)},\"cancel\":function($event){return _vm.audit_reject(record.id)}}},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"Audit\")])])}},{key:\"expandedRowRender\",fn:function(record){return _c('a-table',{attrs:{\"columns\":_vm.innerColumns,\"data-source\":record.children,\"pagination\":false}})}}])}),_c('div',[_c('a-modal',{attrs:{\"title\":\"Remark\",\"on-ok\":\"handleOk\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('template',{slot:\"footer\"},[_c('a-button',{key:\"back\",on:{\"click\":_vm.handleCancel}},[_vm._v(\" Cancel \")]),_c('a-button',{key:\"submit\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.handleOk}},[_vm._v(\" Submit \")])],1),_c('p',[_vm._v(\"Please fill in the reason for rejection\")]),_c('a-textarea',{attrs:{\"placeholder\":\"Please fill in the reason for rejection\",\"auto-size\":{ minRows: 3, maxRows: 5 }},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"pending_list\">\r\n    <a-table\r\n      :columns=\"columns\"\r\n      :data-source=\"colData\"\r\n      class=\"components-table-demo-nested\"\r\n      :pagination=\"false\"\r\n    >\r\n      <a-popconfirm\r\n        slot=\"action\"\r\n        slot-scope=\"record\"\r\n        title=\"Whether the audit is passed？\"\r\n        ok-text=\"Pass\"\r\n        cancel-text=\"Reject\"\r\n        @confirm=\"audit_pass(record.id)\"\r\n        @cancel=\"audit_reject(record.id)\"\r\n      >\r\n        <a href=\"#\">Audit</a>\r\n      </a-popconfirm>\r\n      <a-table\r\n        slot=\"expandedRowRender\"\r\n        slot-scope=\"record\"\r\n        :columns=\"innerColumns\"\r\n        :data-source=\"record.children\"\r\n        :pagination=\"false\"\r\n      >\r\n      </a-table>\r\n    </a-table>\r\n    <!-- 弹出备注框 -->\r\n    <div>\r\n      <a-modal v-model=\"visible\" title=\"Remark\" on-ok=\"handleOk\">\r\n        <template slot=\"footer\">\r\n          <a-button key=\"back\" @click=\"handleCancel\"> Cancel </a-button>\r\n          <a-button\r\n            key=\"submit\"\r\n            type=\"primary\"\r\n            :loading=\"loading\"\r\n            @click=\"handleOk\"\r\n          >\r\n            Submit\r\n          </a-button>\r\n        </template>\r\n        <p>Please fill in the reason for rejection</p>\r\n        <a-textarea\r\n          v-model=\"value\"\r\n          placeholder=\"Please fill in the reason for rejection\"\r\n          :auto-size=\"{ minRows: 3, maxRows: 5 }\"\r\n        />\r\n      </a-modal>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { nanoid } from \"nanoid\";\r\nimport moment from \"moment\";\r\nimport { reject, approve } from \"@/api/admin\";\r\nconst columns = [\r\n  { title: \"申请人\", dataIndex: \"userName\", key: \"userName\" },\r\n  { title: \"司机\", dataIndex: \"driver\", key: \"driver\" },\r\n  { title: \"是否备案\", dataIndex: \"put_on_record\", key: \"put_on_record\" },\r\n  {\r\n    title: \"司机联系方式\",\r\n    dataIndex: \"driver_phone\",\r\n    key: \"driver_phone\",\r\n  },\r\n  { title: \"提交时间\", dataIndex: \"create_time\", key: \"create_time\" },\r\n  { title: \"申请人联系方式\", dataIndex: \"user_phone\", key: \"user_phone\" },\r\n  {\r\n    title: \"Action\",\r\n    dataIndex: \"\",\r\n    key: \"x\",\r\n    scopedSlots: { customRender: \"action\" },\r\n  },\r\n];\r\nconst innerColumns = [\r\n  {\r\n    title: \"出入境类型\",\r\n    dataIndex: \"transboundary_type\",\r\n    key: \"transboundary_type\",\r\n  },\r\n  { title: \"起始时间点\", dataIndex: \"begin_time\", key: \"begin_time\" },\r\n  { title: \"结束时间点\", dataIndex: \"end_time\", key: \"end_time\" },\r\n  { title: \"货物重量\", dataIndex: \"goods_weight\", key: \"goods_weight\" },\r\n  { title: \"货物类型\", dataIndex: \"goods_type\", key: \"goods_type\" },\r\n  { title: \"状态\", dataIndex: \"status\", key: \"status\" },\r\n];\r\n\r\nimport { get_pendingList } from \"@/api/admin\";\r\nexport default {\r\n  name: \"Audit_List\",\r\n  data() {\r\n    return {\r\n      colData: [],\r\n      columns,\r\n      innerColumns,\r\n      loading: false, // 备注框提交加载动画\r\n      visible: false, // 备注框是否可见\r\n      value: \"\", // 备注框内容\r\n      beCheckedItemId: \"\", // 当前操作的item的id\r\n    };\r\n  },\r\n  methods: {\r\n    async audit_pass(id) {\r\n      //审核通过回调\r\n      this.beCheckedItemId = id;\r\n      const res = await approve({// 发起通过申请的请求\r\n        subscribe_id: this.beCheckedItemId, // 当前操作的item的id\r\n      });\r\n      if (res.code === \"1111\") {\r\n        this.$message.success(res.data.msg);\r\n      }\r\n    },\r\n    audit_reject(id) {\r\n      //审核不通过回调 展示备注框\r\n      this.beCheckedItemId = id;\r\n      this.showModal(id);\r\n    },\r\n    showModal() {\r\n      this.visible = true;\r\n    },\r\n    async handleOk() {\r\n      this.loading = true;\r\n      const res = await reject({// 发起驳回申请的请求\r\n        subscribe_id: this.beCheckedItemId, // 当前操作的item的id\r\n        remark: this.value, //备注内容\r\n      });\r\n      if (res.code === \"1111\") {\r\n        this.$message.success(res.data.msg);\r\n        this.loading = false;\r\n        this.visible = false;\r\n      }\r\n    },\r\n    handleCancel() {\r\n      this.visible = false;\r\n    },\r\n  },\r\n  async mounted() {\r\n    const res = await get_pendingList({\r\n      admin_id: this.$store.getters.adminInfo.admin_id,\r\n    });\r\n    if (res.code === \"1111\" && res.data.data instanceof Array) {\r\n      res.data.data.forEach((i) => {\r\n        // 循环将获取到的数据插入外层列表 展示\r\n        this.colData.push({\r\n          key: nanoid(),\r\n          id: i.subscribe_id,\r\n          userName: i.user_name,\r\n          driver: i.driver_name,\r\n          put_on_record: i.putOnRecord === \"0\" ? \"未备案\" : \"已备案\", //根据状态码 显示备案状态\r\n          driver_phone: i.driver_phone,\r\n          create_time: moment(i.create_time).format(\"YYYY-MM-DD HH:mm:ss\"), //格式化时间\r\n          user_phone: i.user_phone,\r\n          children: [\r\n            {\r\n              key: nanoid(),\r\n              id: i.subscribe_id,\r\n              transboundary_type:\r\n                i.transboundary_type === \"0\" ? \"入境\" : \"出境\", //根据状态码 显示出入境类型\r\n              begin_time: i.begin_time,\r\n              end_time: i.end_time,\r\n              goods_weight: i.goods_weight,\r\n              goods_type: this.$options.filters.goods_type_filter(i.goods_type), //根据状态码 显示货物类型\r\n            },\r\n          ],\r\n        });\r\n      });\r\n    }\r\n  },\r\n  filters: {\r\n    goods_type_filter: function (goods_type) {\r\n      switch (goods_type) {\r\n        case \"1\":\r\n          return \"医药\";\r\n        case \"2\":\r\n          return \"易燃物\";\r\n        case \"3\":\r\n          return \"食品\";\r\n        case \"4\":\r\n          return \"五金\";\r\n        default:\r\n          return \"其他\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.ant-table-row-level-1 {\r\n  display: none !important;\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5aecc043&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport { urlAlphabet }\n","import { urlAlphabet } from './url-alphabet/index.js'\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (size--) {\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n"],"sourceRoot":""}